# 🛡️ ChainWarner 3.0 项目进度报告

**项目名称**: ChainWarner (Open Source Supply Chain Risk Monitor)
**当前版本**: v3.0 (Contest Ready)
**开发状态**: 核心功能已上线 / 持续迭代中

---

## 🚀 1. 项目概述
ChainWarner 是一个面向开源软件供应链的安全态势感知平台。它不仅仅是一个被动的查询工具，更是一个具备**主动监测**、**AI 预测**和**深度分析**能力的智能化系统。

### 核心价值
*   **数据驱动**: 基于 **OpenAtom OpenDigger** 提供的权威开源数据（OpenRank、Activity）。
*   **算法赋能**: 集成 **EasyGraph** (结构洞分析) 与 **多维数据融合模型** (Weighted Fusion Model)。
*   **智能交互**: 内置 **双模态 AI 助手** (Dual-Mode Agent)，支持大模型与启发式推理无缝切换。
*   **态势感知**: 提供实时的高危项目榜单、生态影响力 PK 及全球威胁情报推送。

---

## 🛠️ 2. 技术栈架构 (Tech Stack)

### Backend (后端)
*   **Framework**: FastAPI (Python 3.11) - 高性能异步框架
*   **Data Source**: OpenDigger API (X-lab) - 实时获取 GitHub/Gitee 仓库活跃度、OpenRank 等指标
*   **Core Engine**:
    *   `GraphEngine`: **EasyGraph** (图计算：Burt结构洞约束、介数中心性)
    *   `RiskEngine`: **Deterministic Weighted Model** (基于 OpenRank + Activity + Constraint 的确定性评分模型)
    *   `AgentEngine`: **Hybrid AI** (支持 DeepSeek/OpenAI API + 高级动态模板引擎)
*   **Optimization**: LRU In-Memory Cache (毫秒级二次查询响应)

### Frontend (前端)
*   **Framework**: Native HTML5 + Jinja2 (轻量级，无需 Node 环境)
*   **Visualization**:
    *   **AntV G6**: 交互式力导向依赖图谱 (支持缩放、拖拽、点击)
    *   **ECharts**: 六维能力雷达图 + 风险演化折线图 + 生态对比双轴图
*   **UI/UX**: 极客风暗黑主题 (Dark Mode)，响应式布局，实时跑马灯警报

---

## ✨ 3. 已实现功能 (Features)

### 3.1 深度依赖分析 (Deep Analysis)
**场景**：用户输入“仓库所有者/仓库名”进行深度分析。
**功能**：
*   **真实数据驱动**：评分不再随机，而是基于 **OpenRank**（生态影响力）和 **Activity**（活跃度）实时计算。
*   **G6 可缩放交互式图谱**：节点颜色代表风险等级（红=高危，绿=安全），边代表依赖关系。
*   **结构洞指标可视化**：详情页直接展示节点的“结构洞约束系数 (Constraint)”，揭示其在生态中的位置优势。

### 3.2 智能分析助手 (AI Agent)
**场景**：用户在聊天窗口提问“分析一下 React 的风险”。
**功能**：
*   **双模态引擎**：
    *   **True AI 模式**：接入 DeepSeek/OpenAI API，提供基于 RAG 的深度分析。
    *   **Eco-Mode 模式**：在无 Key 状态下，使用高级模板引擎生成专业且逻辑自洽的分析报告，**零成本**运行。

### 3.3 生态影响力 PK (Ecosystem Battle)
**场景**：用户对比两个项目（如 `React` vs `Vue`）。
**功能**：
*   **双轴趋势图**：并行拉取两个项目的 OpenRank 历史数据，直观展示生态位变化。
*   **多维对比**：对比活跃度、排名和风险评分。

### 3.4 态势感知中心 (Situation Awareness)
**场景**：用户查看风险排行榜当前排名靠前的开源项目。
**功能**：
*   **动态风险榜单**：实时展示高危预警榜（Critical）与安全模范榜（Stars）。
*   **多维度风险归因**：针对每个上榜项目提供精准标签。
*   **实时安全预警**：滚动播报最新的 CVE 漏洞及社区异常动态。

---

## 🌟 4. 重大技术突破 (Major Achievements)

1.  **确定性风险评分模型 (Deterministic Scoring)**
    *   **创新点**: 摒弃了传统的黑盒预测，建立了一套基于 **OpenRank (40%) + Activity (30%) + Constraint (20%) + Centrality (10%)** 的白盒评分标准。
    *   **价值**: 实现了逻辑自洽（大项目风险低、孤岛项目风险高）和结果可复现。

2.  **低资源消耗的混合智能体 (Hybrid Agent)**
    *   **技术**: 独创“动态模板注入”技术，在没有 GPU 和 API Key 的边缘设备上也能提供类 AI 的交互体验。
    *   **优势**: 极大降低了部署门槛和运行成本，适合大规模推广。

3.  **EasyGraph 深度融合 (Graph Intelligence)**
    *   **算法落地**: 集成了中介中心性 (Betweenness Centrality) 识别“咽喉”节点。
    *   **结构洞应用**: 首次将社会学中的“结构洞”理论应用于开源软件供应链风险分析。

---

## 📅 5. 下一步计划 (Roadmap)
1.  **[已完成] 核心算法去伪存真**: 全面替换随机数算法，接入 OpenDigger 真实数据。
2.  **[已完成] 智能体升级**: 实现 LLM + 模板双引擎。
3.  **[已完成] 生态对比功能**: 上线双项目 PK 模块。
4.  **[计划中] 多源数据融合**: 计划接入 Gitee、GitLab 等更多代码托管平台的数据。

---
*Generated by ChainWarner AI Assistant*
